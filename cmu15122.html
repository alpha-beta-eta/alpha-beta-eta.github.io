<html><head><meta charset="utf-8"/><title>命令式编程原理笔记</title><link href="styles.css" rel="stylesheet"/></head><body><h1>命令式编程原理笔记</h1><p>CMU 15-122一般是与CMU 15-150并行展开的课程, 前者教授C语言和命令式编程, 后者教授Standard ML和函数式编程. 这两门课程为之后的15-210, 15-213, 15-214做好准备. 15-122的特色或许在于从一开始就引入Hoare logic的概念, 要求学生掌握如何对于命令式程序进行推理.</p><div class="definition"><b>定义.</b> 前条件 (pre-condition) 描述一个函数的合法 (valid) 的输入应该满足的要求.</div><div class="definition"><b>定义.</b> 后条件 (post-condition) 描述一个函数的返回值应该满足的要求, 其依赖于该函数的输入和前条件. 从另一个角度来说, 后条件描述了函数所做的事情.</div><div class="definition"><b>定义.</b> 循环不变量 (loop invariant) 描述了对于某个循环而言每次迭代时不变的性质. 如果一个循环不变量在进入循环之前得到满足, 并且在假设满足该循环不变量的条件下可以推出其在经过一次迭代后仍然保持正确, 那么我们可以断言该循环不变量在退出循环时仍然为真.</div><h2>第1章 </h2><h2>第2章 Ints</h2><h2>第3章 Arrays</h2><h3>第3.1节 使用数组</h3><p>如果<code>t</code>是一个类型, 那么<code>t[]</code>是元素类型为<code>t</code>的数组的类型. 注意到<code>t</code>是任意的: 我们可以有整数的数组<code>int[]</code>, 布尔值的数组<code>bool[]</code>, 或者字符数组的数组<code>char[][]</code>. 这种数组类型句法其实类似于Java, 而和C有点不同.</p><p>每个数组都有固定的长度, 并且必须使用表达式<code>alloc_array(t, n)</code>显式分配. 这里的<code>t</code>是数组元素的类型, 而<code>n</code>是数组元素的数目. 以这个操作, C0将会保留一块内存区域. 让我们在coin里试试:<pre><code>% coin
--> int[] A = alloc_array(int, 10);
A is 0xECE2FFF0 (int[] with 10 elements)
--></code></pre></p><p>结果可能有点令人惊讶: <code>A</code>是一个具有10个元素的整数数组, 但是这里说<code>A</code>是<code>0xECE2FFF0</code>是什么意思呢? 正如我们之前在关于整数的讲座里所讨论的, 变量只能存储具有一个比较小的固定大小的值, 这个固定大小即所谓的机器的<em>字长</em>. 具有10个整数的数组将会十倍于这个大小, 所以我们不能将其直接存放在变量<code>A</code>里面. 转而变量<math><mi>A</mi></math>存放的是数组元素在内存中实际存储位置的<em>地址</em>. 只是在这个情况下地址刚好是<code>0xECE2FFF0</code>而已, 但是并不能保证下次你运行coin还能得到相同的地址. 不过, 幸运的是你不能直接将这个地址当作数字使用, 也不必这么做. 转而你可以通过句法<code>A[i]</code>来访问数组的元素, 其中<math><mrow><mn>0</mn><mo>&le;</mo><mi>i</mi><mo>&lt;</mo><mi>n</mi></mrow></math>, 而<math><mi>n</mi></math>是数组的长度. 换言之, <code>A[0]</code>是数组的第0个元素, <code>A[1]</code>是数组的第1个元素. 数组索引是从零开始计的, 也就是<em>zero-based</em>, 例如:<pre><code>--> A[0];
0 (int)
--> A[1];
0 (int)
--> A[2];
0 (int)
--> A[10];
Error: accessing element 10 in 10-element array
Last position: &lt;stdio>:1.1-1.6
--> A[-1];
Error: accessing negative element in 10-element array
Last position: &lt;stdio>:1.1-1.6
--></code></pre></p><p>我们注意到在分配数组之后, 所有的元素似乎都是0. 这是由实现所保证的, 其会初始化数组的每个元素以一个依赖于类型的默认值. 类型<code>int</code>的默认值是<code>0</code>. 一般而言, </p><h2>第4章 Searching Arrays</h2><h2>第5章 Big-<math><mi>O</mi></math></h2><h2>第6章 Binary Search</h2><h2>第7章 Quicksort</h2><h2>第8章 Libraries</h2><p>标题似乎实则为Data Structures.</p><h3>第8.1节 结构体</h3><p>到目前位置本课程里我们已经与五种不同的C0类型打交道了, 即<code>int</code>, <code>bool</code>, <code>char</code>, <code>string</code>以及数组<code>t[]</code> (对于每个类型<code>t</code>都有一个数组类型<code>t[]</code>). </p><h2>第9章 Stacks and Queues</h2><h2>第10章 Unbounded Arrays</h2><h2>第11章 Hashing</h2><h2>第12章 Hash Dictionaries</h2></body></html>